<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Counter</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    :root {
      --bg-primary: #0a0a0f;
      --accent: #6366f1;
      --accent-glow: #818cf8;
      --accent-2: #ec4899;
      --accent-3: #14b8a6;
      --text-primary: #f8fafc;
      --text-secondary: #94a3b8;
      --glass: rgba(255, 255, 255, 0.03);
      --glass-border: rgba(255, 255, 255, 0.08);
      --counter-size: clamp(5rem, 20vw, 16rem);
    }
    body {
      min-height: 100vh;
      background: var(--bg-primary);
      font-family: 'Outfit', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      position: relative;
      perspective: 1000px;
      touch-action: manipulation;
    }
    .bg-grid {
      position: fixed;
      inset: 0;
      background-image: linear-gradient(rgba(99, 102, 241, 0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(99, 102, 241, 0.03) 1px, transparent 1px);
      background-size: 50px 50px;
      animation: gridMove 15s linear infinite;
    }
    @keyframes gridMove { 0% { transform: translate(0, 0); } 100% { transform: translate(50px, 50px); } }
    .bg-glow { position: fixed; width: 900px; height: 900px; border-radius: 50%; filter: blur(160px); opacity: 0.3; animation: glowFloat 14s ease-in-out infinite; pointer-events: none; }
    .bg-glow-1 { top: -350px; left: -350px; background: radial-gradient(circle, var(--accent), transparent 70%); }
    .bg-glow-2 { bottom: -350px; right: -350px; background: radial-gradient(circle, var(--accent-2), transparent 70%); animation-delay: -7s; }
    .bg-glow-3 { top: 50%; left: 50%; transform: translate(-50%, -50%); width: 500px; height: 500px; background: radial-gradient(circle, var(--accent-3), transparent 70%); animation: glowPulse 10s ease-in-out infinite; animation-delay: -4s; }
    @keyframes glowFloat { 0%, 100% { transform: translate(0, 0) scale(1); } 33% { transform: translate(40px, -40px) scale(1.15); } 66% { transform: translate(-30px, 30px) scale(0.9); } }
    @keyframes glowPulse { 0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.15; } 50% { transform: translate(-50%, -50%) scale(1.4); opacity: 0.35; } }
    .stars { position: fixed; inset: 0; pointer-events: none; }
    .star { position: absolute; width: 2px; height: 2px; background: white; border-radius: 50%; opacity: 0; animation: starTwinkle 5s ease-in-out infinite; }
    @keyframes starTwinkle { 0%, 100% { opacity: 0; transform: scale(0.3); } 50% { opacity: 1; transform: scale(1.2); } }
    .container { position: relative; z-index: 10; text-align: center; padding: 1.5rem; max-width: 100%; width: 100%; max-width: 600px; }
    .top-bar { position: fixed; top: 1rem; left: 1rem; right: 1rem; display: flex; justify-content: space-between; z-index: 100; opacity: 0; animation: fadeIn 0.8s ease 1.2s forwards; }
    .icon-btn { padding: 0.75rem; background: var(--glass); border: 1px solid var(--glass-border); border-radius: 12px; cursor: pointer; transition: all 0.3s ease; font-size: 1.25rem; color: var(--text-secondary); }
    .icon-btn:hover { background: rgba(255, 255, 255, 0.1); color: var(--text-primary); transform: scale(1.1); }
    .icon-btn.active { background: rgba(99, 102, 241, 0.2); border-color: var(--accent); color: var(--accent); }
    .label { font-size: 0.7rem; font-weight: 600; letter-spacing: 0.4em; text-transform: uppercase; color: var(--text-secondary); margin-bottom: 1.5rem; opacity: 0; animation: fadeInUp 0.8s ease forwards; }
    .counter-wrapper { position: relative; margin-bottom: 2rem; }
    .counter-card { position: relative; padding: 2.5rem 3rem; background: linear-gradient(145deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02)); border: 1px solid var(--glass-border); border-radius: 32px; backdrop-filter: blur(40px); box-shadow: 0 30px 60px -15px rgba(0, 0, 0, 0.6), 0 0 80px -20px rgba(99, 102, 241, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1); transform: rotateX(8deg); transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); opacity: 0; animation: cardEnter 1s ease 0.2s forwards; cursor: pointer; user-select: none; }
    @keyframes cardEnter { 0% { opacity: 0; transform: rotateX(25deg) scale(0.85); } 100% { opacity: 1; transform: rotateX(8deg) scale(1); } }
    .counter-card:hover { transform: rotateX(0deg) scale(1.03); box-shadow: 0 40px 80px -20px rgba(0, 0, 0, 0.7), 0 0 100px -30px rgba(99, 102, 241, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.15); }
    .counter-card:active { transform: rotateX(5deg) scale(0.98); }
    .counter { font-family: 'JetBrains Mono', monospace; font-size: var(--counter-size); font-weight: 700; background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-glow) 35%, var(--accent-2) 70%, var(--accent-3) 100%); background-size: 300% 300%; -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; line-height: 1; animation: gradientMove 8s ease infinite; transition: transform 0.15s ease; }
    @keyframes gradientMove { 0%, 100% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } }
    .counter.pop { animation: pop 0.25s ease; }
    @keyframes pop { 0% { transform: scale(1); } 40% { transform: scale(1.1); } 100% { transform: scale(1); } }
    .velocity { position: absolute; bottom: -1.5rem; left: 50%; transform: translateX(-50%); font-family: 'JetBrains Mono', monospace; font-size: 0.75rem; color: var(--accent); opacity: 0; transition: opacity 0.3s ease; white-space: nowrap; }
    .velocity.show { opacity: 1; }
    .rings { position: absolute; inset: -15px; pointer-events: none; }
    .ring { position: absolute; inset: 0; border: 1px solid var(--glass-border); border-radius: 40px; opacity: 0; animation: ringExpand 2.5s ease forwards; }
    .ring:nth-child(2) { animation-delay: 0.4s; }
    .ring:nth-child(3) { animation-delay: 0.8s; }
    @keyframes ringExpand { 0% { opacity: 0; transform: scale(0.7); } 15% { opacity: 0.6; } 100% { opacity: 0; transform: scale(1.4); } }
    .buttons { display: flex; gap: 0.75rem; justify-content: center; flex-wrap: wrap; margin-bottom: 1.5rem; }
    .btn { position: relative; padding: 1rem 2rem; font-family: 'Outfit', sans-serif; font-size: 0.95rem; font-weight: 600; border: none; border-radius: 100px; cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); overflow: hidden; min-width: 80px; }
    .btn-decrement { background: var(--glass); color: var(--text-primary); border: 1px solid var(--glass-border); }
    .btn-decrement:hover { background: rgba(255, 255, 255, 0.08); transform: translateY(-3px); box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4); }
    .btn-reset { background: transparent; color: var(--text-secondary); font-weight: 500; min-width: 70px; }
    .btn-reset:hover { color: var(--text-primary); background: var(--glass); }
    .btn-increment { background: linear-gradient(135deg, var(--accent), #8b5cf6 50%, var(--accent-2)); background-size: 200% 200%; color: white; box-shadow: 0 4px 25px rgba(99, 102, 241, 0.5); animation: gradientShift 4s ease infinite; min-width: 100px; }
    @keyframes gradientShift { 0%, 100% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } }
    .btn-increment:hover { transform: translateY(-3px) scale(1.02); box-shadow: 0 18px 55px rgba(99, 102, 241, 0.6); }
    .btn:active { transform: scale(0.93); }
    .btn::before { content: ''; position: absolute; inset: 0; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent); transform: translateX(-100%); transition: transform 0.6s; }
    .btn:hover::before { transform: translateX(100%); }
    .quick-adjust { display: flex; gap: 0.4rem; justify-content: center; flex-wrap: wrap; margin-bottom: 1.5rem; opacity: 0; animation: fadeIn 1s ease 0.9s forwards; }
    .quick-btn { padding: 0.5rem 0.85rem; font-family: 'JetBrains Mono', monospace; font-size: 0.7rem; background: var(--glass); border: 1px solid var(--glass-border); border-radius: 8px; color: var(--text-secondary); cursor: pointer; transition: all 0.2s ease; }
    .quick-btn:hover { background: rgba(255, 255, 255, 0.1); color: var(--text-primary); transform: translateY(-2px); }
    .quick-btn:active { transform: scale(0.95); }
    .stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.75rem; max-width: 450px; margin: 0 auto; opacity: 0; animation: fadeIn 1s ease 1s forwards; }
    @keyframes fadeIn { to { opacity: 1; } }
    @keyframes fadeInUp { 0% { opacity: 0; transform: translateY(20px); } 100% { opacity: 1; transform: translateY(0); } }
    .stat { position: relative; padding: 1rem; background: var(--glass); border: 1px solid var(--glass-border); border-radius: 14px; text-align: center; transition: all 0.3s ease; }
    .stat:hover { background: rgba(255, 255, 255, 0.05); transform: translateY(-3px); }
    .stat::before { content: ''; position: absolute; top: 0; left: 50%; transform: translateX(-50%); width: 25px; height: 2px; background: linear-gradient(90deg, transparent, var(--accent), transparent); border-radius: 2px; }
    .stat-value { font-family: 'JetBrains Mono', monospace; font-size: 1.3rem; font-weight: 700; color: var(--text-primary); }
    .stat-label { font-size: 0.6rem; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.15em; margin-top: 0.4rem; }
    .achievements { position: fixed; top: 1rem; right: 1rem; left: 1rem; z-index: 100; display: flex; flex-direction: column; align-items: flex-end; gap: 0.5rem; pointer-events: none; }
    .achievement { padding: 0.85rem 1.25rem; background: linear-gradient(135deg, rgba(99, 102, 241, 0.25), rgba(236, 72, 153, 0.2)); border: 1px solid var(--accent); border-radius: 14px; color: var(--text-primary); font-size: 0.85rem; font-weight: 600; backdrop-filter: blur(15px); animation: achievementIn 0.5s ease forwards; display: flex; align-items: center; gap: 0.6rem; box-shadow: 0 10px 40px rgba(99, 102, 241, 0.3); pointer-events: auto; }
    .achievement.out { animation: achievementOut 0.5s ease forwards; }
    .achievement-icon { font-size: 1.15rem; }
    @keyframes achievementIn { 0% { opacity: 0; transform: translateX(60px) scale(0.9); } 100% { opacity: 1; transform: translateX(0) scale(1); } }
    @keyframes achievementOut { 0% { opacity: 1; transform: translateX(0) scale(1); } 100% { opacity: 0; transform: translateX(60px) scale(0.9); } }
    .particles { position: fixed; inset: 0; pointer-events: none; overflow: hidden; z-index: 50; }
    .particle { position: absolute; border-radius: 50%; opacity: 0; pointer-events: none; }
    .particle.animate { animation: particleFloat 1.2s ease-out forwards; }
    @keyframes particleFloat { 0% { opacity: 1; transform: translate(0, 0) scale(1); } 100% { opacity: 0; transform: translate(var(--tx), var(--ty)) scale(0); } }
    .hint { position: fixed; bottom: 1rem; font-size: 0.65rem; color: var(--text-secondary); opacity: 0; animation: fadeIn 1s ease 1.5s forwards; text-align: center; width: 100%; }
    kbd { display: inline-block; padding: 0.15rem 0.4rem; background: var(--glass); border: 1px solid var(--glass-border); border-radius: 4px; font-family: 'JetBrains Mono', monospace; margin: 0 0.1rem; }
    body.light { --bg-primary: #f8fafc; --bg-secondary: #f1f5f9; --text-primary: #0f172a; --text-secondary: #64748b; --glass: rgba(0, 0, 0, 0.03); --glass-border: rgba(0, 0, 0, 0.06); }
    body.light .bg-glow { opacity: 0.12; }
    body.light .counter { background: linear-gradient(135deg, #0f172a 0%, #6366f1 40%, #ec4899 70%, #14b8a6 100%); -webkit-background-clip: text; }
    body.light .counter-card { box-shadow: 0 30px 60px -15px rgba(0, 0, 0, 0.15), 0 0 80px -20px rgba(99, 102, 241, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.8); }
    .confetti { position: fixed; pointer-events: none; animation: confettiFall 3.5s ease-out forwards; z-index: 200; }
    @keyframes confettiFall { 0% { opacity: 1; transform: translateY(0) rotate(0deg) scale(1); } 100% { opacity: 0; transform: translateY(100vh) rotate(720deg) scale(0.5); } }
    @media (max-width: 480px) { .btn { padding: 0.85rem 1.5rem; font-size: 0.9rem; } .counter-card { padding: 2rem 1.5rem; } .stats { gap: 0.5rem; } .stat { padding: 0.75rem; } .stat-value { font-size: 1.1rem; } .top-bar { top: 0.5rem; } .icon-btn { padding: 0.6rem; font-size: 1.1rem; } }
  </style>
</head>
<body>
  <div class="bg-grid"></div>
  <div class="bg-glow bg-glow-1"></div>
  <div class="bg-glow bg-glow-2"></div>
  <div class="bg-glow bg-glow-3"></div>
  <div class="stars" id="stars"></div>
  <div class="particles" id="particles"></div>
  <div class="achievements" id="achievements"></div>
  <div class="top-bar">
    <button class="icon-btn" id="soundToggle" title="Toggle sound">ðŸ”Š</button>
    <button class="icon-btn" id="themeToggle" title="Toggle theme">ðŸŒ“</button>
  </div>
  <div class="container">
    <div class="label">Count</div>
    <div class="counter-wrapper">
      <div class="counter-card" id="counterCard">
        <div class="rings"><div class="ring"></div><div class="ring"></div><div class="ring"></div></div>
        <div class="counter" id="counter">0</div>
        <div class="velocity" id="velocity">0 clicks/min</div>
      </div>
    </div>
    <div class="buttons">
      <button class="btn btn-decrement" id="decrement">âˆ’</button>
      <button class="btn btn-reset" id="reset">Reset</button>
      <button class="btn btn-increment" id="increment">+</button>
    </div>
    <div class="quick-adjust">
      <button class="quick-btn" data-amount="10">+10</button>
      <button class="quick-btn" data-amount="50">+50</button>
      <button class="quick-btn" data-amount="100">+100</button>
      <button class="quick-btn" data-amount="-10">-10</button>
      <button class="quick-btn" data-amount="-50">-50</button>
    </div>
    <div class="stats">
      <div class="stat"><div class="stat-value" id="totalClicks">0</div><div class="stat-label">Total Clicks</div></div>
      <div class="stat"><div class="stat-value" id="maxCount">0</div><div class="stat-label">Peak</div></div>
      <div class="stat"><div class="stat-value" id="velocityStat">0</div><div class="stat-label">Clicks/min</div></div>
    </div>
  </div>
  <div class="hint"><kbd>Space</kbd> +1 â€¢ <kbd>â†‘</kbd><kbd>â†“</kbd> adjust â€¢ <kbd>T</kbd> theme â€¢ <kbd>S</kbd> sound</div>
  <script>
    let audioCtx = null;
    let soundEnabled = localStorage.getItem('counter_sound') !== 'false';
    function playSound(type) {
      if (!soundEnabled) return;
      try {
        if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        const oscillator = audioCtx.createOscillator();
        const gainNode = audioCtx.createGain();
        oscillator.connect(gainNode);
        gainNode.connect(audioCtx.destination);
        if (type === 'increment') { oscillator.frequency.setValueAtTime(880, audioCtx.currentTime); oscillator.frequency.exponentialRampToValueAtTime(1760, audioCtx.currentTime + 0.1); gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime); gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.15); oscillator.start(audioCtx.currentTime); oscillator.stop(audioCtx.currentTime + 0.15); }
        else if (type === 'decrement') { oscillator.frequency.setValueAtTime(440, audioCtx.currentTime); oscillator.frequency.exponentialRampToValueAtTime(220, audioCtx.currentTime + 0.1); gainNode.gain.setValueAtTime(0.08, audioCtx.currentTime); gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.12); oscillator.start(audioCtx.currentTime); oscillator.stop(audioCtx.currentTime + 0.12); }
        else if (type === 'achievement') { const notes = [523, 659, 784, 1047]; notes.forEach((freq, i) => { const osc = audioCtx.createOscillator(); const gain = audioCtx.createGain(); osc.connect(gain); gain.connect(audioCtx.destination); osc.frequency.setValueAtTime(freq, audioCtx.currentTime + i * 0.1); gain.gain.setValueAtTime(0.1, audioCtx.currentTime + i * 0.1); gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + i * 0.1 + 0.2); osc.start(audioCtx.currentTime + i * 0.1); osc.stop(audioCtx.currentTime + i * 0.1 + 0.2); }); }
      } catch (e) { }
    }
    let count = parseInt(localStorage.getItem('counter_count')) || 0;
    let totalClicks = parseInt(localStorage.getItem('counter_total')) || 0;
    let maxCount = parseInt(localStorage.getItem('counter_max')) || 0;
    let sessionStart = Date.now();
    let isLight = localStorage.getItem('counter_theme') === 'light';
    let clickTimes = [];
    const achievements = [
      { id: 'first', threshold: 1, icon: 'ðŸŽ¯', text: 'First Step!' },
      { id: 'ten', threshold: 10, icon: 'ðŸ”¥', text: 'On Fire!' },
      { id: 'fifty', threshold: 50, icon: 'âš¡', text: 'Speed Demon!' },
      { id: 'hundred', threshold: 100, icon: 'ðŸ’¯', text: 'Century!' },
      { id: 'fivehundred', threshold: 500, icon: 'ðŸ’Ž', text: '500 Club!' },
      { id: 'thousand', threshold: 1000, icon: 'ðŸ‘‘', text: 'Thousand!' },
      { id: 'fivek', threshold: 5000, icon: 'ðŸš€', text: '5K Legend!' },
      { id: 'tenk', threshold: 10000, icon: 'ðŸŒŸ', text: '10K MASTER!' },
    ];
    let earnedAchievements = JSON.parse(localStorage.getItem('counter_achievements')) || [];
    const counterEl = document.getElementById('counter');
    const counterCard = document.getElementById('counterCard');
    const totalClicksEl = document.getElementById('totalClicks');
    const maxCountEl = document.getElementById('maxCount');
    const velocityEl = document.getElementById('velocity');
    const velocityStatEl = document.getElementById('velocityStat');
    const incrementBtn = document.getElementById('increment');
    const decrementBtn = document.getElementById('decrement');
    const resetBtn = document.getElementById('reset');
    const particlesEl = document.getElementById('particles');
    const achievementsEl = document.getElementById('achievements');
    const themeToggle = document.getElementById('themeToggle');
    const soundToggle = document.getElementById('soundToggle');
    const starsEl = document.getElementById('stars');
    function createStars() { for (let i = 0; i < 60; i++) { const star = document.createElement('div'); star.className = 'star'; star.style.left = `${Math.random() * 100}%`; star.style.top = `${Math.random() * 100}%`; star.style.animationDelay = `${Math.random() * 5}s`; star.style.animationDuration = `${4 + Math.random() * 3}s`; star.style.width = star.style.height = `${1 + Math.random() * 2}px`; starsEl.appendChild(star); } }
    createStars();
    function setTheme(light) { isLight = light; document.body.classList.toggle('light', light); localStorage.setItem('counter_theme', light ? 'light' : 'dark'); }
    setTheme(isLight);
    function updateSoundUI() { soundToggle.textContent = soundEnabled ? 'ðŸ”Š' : 'ðŸ”‡'; soundToggle.classList.toggle('active', soundEnabled); }
    updateSoundUI();
    function updateDisplay() { counterEl.classList.remove('pop'); void counterEl.offsetWidth; counterEl.classList.add('pop'); counterEl.textContent = count.toLocaleString(); totalClicksEl.textContent = totalClicks.toLocaleString(); maxCountEl.textContent = maxCount.toLocaleString(); document.title = `${count.toLocaleString()} â€” Counter`; localStorage.setItem('counter_count', count); localStorage.setItem('counter_total', totalClicks); localStorage.setItem('counter_max', maxCount); }
    function updateVelocity() { const now = Date.now(); clickTimes = clickTimes.filter(t => now - t < 60000); const velocity = clickTimes.length; velocityEl.textContent = `${velocity} clicks/min`; velocityStatEl.textContent = velocity; velocityEl.classList.toggle('show', velocity > 0); }
    function createParticles(x, y) { const colors = ['#6366f1', '#ec4899', '#14b8a6', '#f59e0b', '#8b5cf6', '#f43f5e']; for (let i = 0; i < 15; i++) { const particle = document.createElement('div'); particle.className = 'particle'; const angle = (Math.PI * 2 * i) / 15 + Math.random() * 0.3; const distance = 60 + Math.random() * 80; const tx = Math.cos(angle) * distance; const ty = Math.sin(angle) * distance - 40; particle.style.cssText = `left: ${x}px; top: ${y}px; width: ${3 + Math.random() * 5}px; height: ${3 + Math.random() * 5}px; background: ${colors[Math.floor(Math.random() * colors.length)]}; --tx: ${tx}px; --ty: ${ty}px; animation-duration: ${0.6 + Math.random() * 0.6}s;`; particlesEl.appendChild(particle); requestAnimationFrame(() => particle.classList.add('animate')); setTimeout(() => particle.remove(), 1200); } }
    function showAchievement(ach) { playSound('achievement'); const el = document.createElement('div'); el.className = 'achievement'; el.innerHTML = `<span class="achievement-icon">${ach.icon}</span><span>${ach.text}</span>`; achievementsEl.appendChild(el); for (let i = 0; i < 30; i++) { setTimeout(() => createConfetti(), i * 40); } setTimeout(() => { el.classList.add('out'); setTimeout(() => el.remove(), 500); }, 3000); }
    function createConfetti() { const confetti = document.createElement('div'); confetti.className = 'confetti'; confetti.style.left = `${Math.random() * 100}vw`; confetti.style.top = '-10px'; confetti.style.background = ['#6366f1', '#ec4899', '#14b8a6', '#f59e0b'][Math.floor(Math.random() * 4)]; confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '2px'; document.body.appendChild(confetti); setTimeout(() => confetti.remove(), 3500); }
    function checkAchievements() { for (const ach of achievements) { if (count >= ach.threshold && !earnedAchievements.includes(ach.id)) { earnedAchievements.push(ach.id); localStorage.setItem('counter_achievements', JSON.stringify(earnedAchievements)); showAchievement(ach); } } }
    function increment(e) { totalClicks++; count++; clickTimes.push(Date.now()); if (count > maxCount) maxCount = count; updateDisplay(); updateVelocity(); checkAchievements(); playSound('increment'); const rect = counterEl.getBoundingClientRect(); createParticles(rect.left + rect.width / 2, rect.top + rect.height / 2); }
    function decrement(e) { totalClicks++; count--; clickTimes.push(Date.now()); updateDisplay(); updateVelocity(); playSound('decrement'); const rect = counterEl.getBoundingClientRect(); createParticles(rect.left + rect.width / 2, rect.top + rect.height / 2); }
    function adjust(amount, e) { totalClicks++; count += amount; clickTimes.push(Date.now()); if (count > maxCount) maxCount = count; updateDisplay(); updateVelocity(); checkAchievements(); playSound('increment'); const rect = counterEl.getBoundingClientRect(); createParticles(rect.left + rect.width / 2, rect.top + rect.height / 2); }
    function reset() { if (confirm('Reset counter to 0?')) { count = 0; totalClicks = 0; maxCount = 0; earnedAchievements = []; localStorage.setItem('counter_achievements', '[]'); sessionStart = Date.now(); clickTimes = []; updateDisplay(); updateVelocity(); } }
    incrementBtn.addEventListener('click', increment);
    decrementBtn.addEventListener('click', decrement);
    resetBtn.addEventListener('click', reset);
    document.querySelectorAll('.quick-btn').forEach(btn => { btn.addEventListener('click', (e) => { const amount = parseInt(btn.dataset.amount); adjust(amount, e); }); });
    counterEl.addEventListener('click', (e) => increment(e));
    document.addEventListener('keydown', (e) => { if (e.code === 'Space') { e.preventDefault(); increment(e); } else if (e.code === 'ArrowUp' || e.code === 'ArrowRight') { e.preventDefault(); increment(e); } else if (e.code === 'ArrowDown' || e.code === 'ArrowLeft') { e.preventDefault(); decrement(e); } else if (e.code === 'KeyT') { setTheme(!isLight); } else if (e.code === 'KeyS') { soundEnabled = !soundEnabled; localStorage.setItem('counter_sound', soundEnabled); updateSoundUI(); } else if (e.code === 'KeyR' && (e.ctrlKey || e.metaKey)) { e.preventDefault(); reset(); } });
    themeToggle.addEventListener('click', () => setTheme(!isLight));
    soundToggle.addEventListener('click', () => { soundEnabled = !soundEnabled; localStorage.setItem('counter_sound', soundEnabled); updateSoundUI(); });
    setInterval(updateVelocity, 1000);
    updateDisplay();
    updateVelocity();
    checkAchievements();
  </script>
</body>
</html>